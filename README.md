# 大学プロジェクト用
# TL;DR  
### 南房総市の方からの要望  
* 認知症徘徊者が多く困っている  
* 手足を縛り付けて徘徊をやめさせる様なことは絶対にしたくない  
* 探す際に見た目がわからないことが多々ある  

### 提案  
* GPSを服に縫い付けたり靴に埋め込んだりしては？
  ->裸で出ていくパターンに対応できない  
* 道路に監視カメラつけては?  
  ->大学生のボランティアにそこまでお金を使えない  
* 徘徊が始まった際の映像を撮っておけば?  
  ->金額が安く、大きい物(ノートパソコンとかは大きすぎる)でなければアリ。  

### ボランティアでの目標  
**玄関に動態検知で起動して人の出入りを録画するカメラを設置する**  


## システム概要図  
![sal_system_overview](https://user-images.githubusercontent.com/35915885/83359919-66123280-a3b8-11ea-81f5-98a858e20511.png)  
Nodejsを動かしているのはraspberrypiです。  
今後の予定として直近のデータはRaspberryPiへ、過去のデータはAWSへ保存する予定が立てられましたが、後輩に託してあります。

***

# システム概要  
本システムは南房総市と千葉工業大学の協力によって実施されたシステム開発ボランティアの際に開発された高齢者見守りシステムです。  
南房総市では現在、認知症徘徊者問題が取り上げられており、独居の方が誰にも気づかれずどこかに出かけてしまう、高齢者の方が服も何も身につけず徘徊を始めてしまうなど深刻な問題になっています。  
かといって認知症の方を病院にずっと入れておいたり、椅子に縛り付けておくことは倫理的に絶対にやるべきではありません。  
認知症の方は家にいるのが嫌で出ていくわけではなく、畑仕事など若い頃の習慣や、買い物に行っているつもりで間違った場所へ向かっているだけなのです。  
この問題を解決するために開発されたのが本システムになります。  

本システムには二つの特徴があります。  
* カメラと動態検知を用いた高齢者の方の外出記録  
動態検知機能を持たせた、常時稼働するカメラを玄関先におくことで、高齢者の方が外出する際にその時の服装と時間を記録します。  
RaspberryPiはあまり大きい容量は持っていないため、常時稼働するカメラとして用いた場合データを外部のサーバ等に送信することが多いですが、本システムでは動体検知を用いて動くものが写っていた前後5秒間を録画します。  

* 加速度センサを用いた高齢者の方の生存確認  
Twelite2525という加速度センサモジュールを用いることでドアの開閉を検知します。  
この際に数日間ドアの開閉が検知されなかった場合指定したメールアドレスにメールを送信する設定を行うことが可能です。  

また、上記データはNodeJs上で動くwebページにて詳細を確認できる様になっています。  
**後輩の方向けの今後の展望として、basic認証でいいのでAWS等にデータを保存し、ページにログインするとデータが見られる様な形式をとるととても良いと思います。**  


***  

* コードに関して  
modules = カメラユニット、センサユニットのコード  
web_pages = viewer内のプログラム。nodejs+expressです。  

参考文献  
* カメラ  
python+opencvとwebカメラを使って動体検知する話
https://ensekitt.hatenablog.com/entry/2018/06/11/200000  
この他にも様々なサイトにお世話になりました。  

(3月追記)できればドングルは使わないほうがいいです。熱を持ちやすいので運用の際に不具合が起きがちになります。
